role_bootloader: True
include_bootloader_grub: True
include_bootloader_extlinux: True

# enable serial console (for grub and kernel)
bootloader_serial_console: True

# serial console parameters
bootloader_serial_console_tty: 'ttyS0'
bootloader_serial_console_speed: '115200'

# serial console parameters (these should not be modified in the inventory)
bootloader_serial_console_parameter: 'console={{ bootloader_serial_console_tty }},{{ bootloader_serial_console_speed }}n8'
bootloader_serial_command: '{{ "".join(["serial --speed=", bootloader_serial_console_speed, " --unit=0 --word=8 --parity=no --stop=1"]) if bootloader_serial_console else "" }}'
bootloader_kernel_parameters_console: '{{ [ "console=tty0", bootloader_serial_console_parameter ] if bootloader_serial_console else [] }}'

# kernel parameters to be set from roles
bootloader_kernel_parameters_hugepages: []

# kernel parameters to be set from inventory
bootloader_kernel_parameters_custom: []

# generic grub kernel parameters (the default parameters)
bootloader_grub_kernel_parameters_generic: []

# generic extlinux kernel parameters (the default parameters)
bootloader_extlinux_kernel_parameters_generic:
  - 'root=/dev/sda'
  - 'ro'
  - 'net.ifnames=0'
  - 'biosdevname=0'
  - 'nousb'

# kernel parameters for mitigation control
bootloader_kernel_parameters_mitigations: []

# --- /etc/default/grub
bootloader_grub_default: 0
bootloader_grub_timeout: 5
bootloader_grub_timeout_style_hidden: False
bootloader_grub_distributor: '`lsb_release -i -s 2> /dev/null || echo Debian`'
bootloader_grub_cmdline_linux_default: 'quiet'
bootloader_grub_terminal: '{{ "console serial" if bootloader_serial_console else "console" }}'
bootloader_grub_serial_command: '{{ bootloader_serial_command }}'
bootloader_grub_disable_submenu: True
bootloader_grub_disable_os_prober: True
bootloader_grub_disable_recovery: False
bootloader_grub_password_protected: False

# --- /syslinux.cfg
bootloader_extlinux_linux: 'vmlinuz'
bootloader_extlinux_initrd: 'initrd.img'
